<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Main page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">

</head>
<body class="bg-light d-flex justify-content-center align-items-center vh-100">

<form method="post" enctype="multipart/form-data" class="p-5 bg-white rounded shadow" style="min-width: 300px;">
  <h1 class="mb-4 text-center">Upload file</h1>

  <label class="form-label d-block mb-2">Select the analysis type:</label>
  <div class="btn-group mb-4 w-100" role="group" aria-label="Analysis mode">
    <input type="radio" class="btn-check" name="mode" id="single" value="single" autocomplete="off" checked onclick="toggleSecondFileInput()">
    <label class="btn btn btn-outline-primary" for="single">A single file</label>

    <input type="radio" class="btn-check" name="mode" id="compare" value="compare" autocomplete="off" onclick="toggleSecondFileInput()">
    <label class="btn btn btn-outline-primary" for="compare">Comparare two files</label>
  </div>

  <div class="mb-3">
    <label class="form-label">Main file</label>
    <input type="file" name="file1" id="file1" class="form-control" accept=".csv,application/json" required onchange="previewFile(this, 'preview1', 'columnSelect1')">
  </div>
  <div id="preview1" class="mb-3 file-preview"></div>
  <div class="mb-3">
    <label for="columnSelect1" class="form-label">The column for analysis (File 1)</label>
    <select id="columnSelect1" name="column1" class="form-select" required>
      <option value="">Select the column for analysis</option>
    </select>
  </div>

  <div class="mb-3" id="secondFileGroup" style="display: none;">
    <label class="form-label">File for comparasion</label>
    <input type="file" name="file2" id="file2" class="form-control" accept=".csv,application/json" onchange="previewFile(this, 'preview2', 'columnSelect2')">
    <div id="preview2" class="mb-3 file-preview"></div>
    <label for="columnSelect2" class="form-label">The column for analysis (File 2)</label>
    <select id="columnSelect2" name="column2" class="form-select">
      <option value="">Select the column for analysis</option>
    </select>
  </div>

  <label class="form-label d-block mb-2">Select the emotion analysis type:</label>
  <div class="btn-group mb-4 w-100" role="group" aria-label="Emotion type">
    <input type="radio" class="btn-check" name="emotion" id="simple" value="simple" autocomplete="off" checked>
    <label class="btn btn-outline-primary" for="simple">Simple</label>

    <input type="radio" class="btn-check" name="emotion" id="complex" value="complex" autocomplete="off">
    <label class="btn btn-outline-primary" for="complex">Complex</label>
  </div>

  <div class="d-grid">
    <input type="submit" value="Incepere analiza" class="btn btn-primary">
  </div>
</form>

<script src="{{ url_for('static', filename='previewFiles.js') }}"></script>
</body>
</html>
